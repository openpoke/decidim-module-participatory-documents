<div class="card with-overflow">
  <div class="card-divider">
    <h2 class="card-title flex--sbc">
      <div><%= t(".title") %></div>
    </h2>
  </div>
  <%= admin_filter_selector(:suggestions) %>
  <div class="card-section">
    <div class="table-scroll">
      <table class="table-list">
        <thead>
        <tr>
          <th><%= sort_link(query, :id, t(".id"), default_order: :desc ) %></th>
          <th><%= sort_link(query, :translated_body, t(".suggestion") ) %></th>
          <th><%= sort_link(query, :suggestable, t(".section")) %></th>
          <th><%= sort_link(query, :state, t(".state")) %></th>
          <th><%= sort_link(query, :created_at, t(".created_at")) %></th>
          <th class="actions"><%= t(".actions.title") %></th>
        </tr>
        </thead>
          <% suggestions.each do |suggestion| %>
          <tr>
            <td><%= suggestion.id %></td>
            <td><%= truncate(translated_attribute(suggestion.body), length: 50) %></td>
            <td><%= suggestion.suggestable.is_a?(Decidim::ParticipatoryDocuments::Document) ? t(".global") : translated_attribute(suggestion.suggestable.title) %></td>
            <td><%= humanize_suggestion_state(suggestion.state) %></td>
            <td><%= l suggestion.created_at, format: :decidim_short %></td>
            <td><%= icon_with_link_to_suggestion(document, suggestion) %></td>
          </tr>
          <% end %>
        <tbody>
        </tbody>
      </table>
      <%= paginate suggestions, theme: "decidim" %>
    </div>
  </div>
</div>
